<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.casemanager.repository.TaskRepository">
	<!-- タスク登録 -->
	<insert id="insert">
		INSERT INTO tasks (case_id, title, deadline, priority_code, status_code)
		VALUES ( #{task.caseId}, #{task.title},#{task.deadline},#{task.priorityCode},
				#{task.statusCode})
	</insert>
	
	<!-- タスク削除 -->
	<delete id="delete">
		DELETE
		FROM
			tasks
		WHERE
			task_id = #{taskId}
	</delete>
	
	<!-- ケースIDを指定して削除 -->
	<delete id="deleteByCaseId">
		DELETE
		FROM 
			tasks
		WHERE
			case_id = #{caseId}
	</delete>
	
</mapper>