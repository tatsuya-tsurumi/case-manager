<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{base}">

<head>
	<title>タスク登録</title>
</head>

<body>
	<main layout:fragment="content">
		<h2 class="my-5">タスク登録</h2>

		<form th:action="@{/task-regist}" method="post" th:object="${taskRegistForm}" class="w-50 mx-auto d-inline">
			<div class="mt-3">
				<label class="form-label">【ケースID】</label><br>
				<span th:text="*{caseId}"></span>
				<input type="hidden" th:field="*{caseId}">
			</div>
			<div class="mt-3">
				<label class="form-label">【タイトル】</label><br>
				<input type="text" th:field="*{title}" class="w-25"><br>
				<div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error-msg"></div>
			</div>
			<div class="mt-3">
				<label class="form-label">【期限】</label><br>
				<input type="date" th:field="*{deadline}" class="w-25"><br>
				<div th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}" class="error-msg"></div>
			</div>
			<div class="mt-3">
				<label class="form-label">【重要度】</label><br>
				<select th:field="*{priorityCode}" class="w-25">
					<option value="">選択してください</option>
					<option th:each="priority : ${priorityList}" th:value="${priority.priorityCode}"
						th:text="${priority.priorityName}" th:selected="${priority.priorityCode == priorityCode}">
					</option>
				</select>
				<div th:if="${#fields.hasErrors('priorityCode')}" th:errors="*{priorityCode}" class="error-msg">
				</div>
			</div>
			<div class="mt-3">
				<label class="form-label">【ステータス名】</label><br>
				<select th:field="*{statusCode}" class="w-25">
						<option value="">選択してください</option>
						<option th:each="status : ${statusList}" th:value="${status.statusCode}"
							th:text="${status.statusName}" th:selected="${status.statusCode == statusCode}">
						</option>
					</select>
					<div th:if="${#fields.hasErrors('statusCode')}" th:errors="*{statusCode}" 
					class="error-msg"></div>
			</div>

			<br>
			<input type="submit" value="登録" class="btn btn-primary">
		</form>
		
		<form th:action="@{/case-search-detail}" method="post" th:object="${taskRegistForm}"
				class="d-inline ms-5">
			<input type="hidden" th:field="*{caseId}">
			<input type="submit" value="戻る" class="btn btn-primary">
		</form>
		<div class="mt-5">			
		<a th:href="@{/top}">トップページに戻る</a>
		</div>
	</main>
</body>

</html>