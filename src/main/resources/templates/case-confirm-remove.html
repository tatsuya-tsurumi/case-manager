<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">

<head>
    <title>ユーザ登録</title>
</head>
<body>
	<main layout:fragment="content">
	<h2 class="my-5">ケース削除確認</h2>
	
			<div class="card w-50 mx-auto">
			<div class="card-body py-3 px-4" th:object="${caseDetail}">

				<div class="row mb-4">
					<div class="col-4 fw-bold">【ケースID】</div>
					<div class="col-8" th:text="*{caseId}"></div>
				</div>

				<div class="row mb-4">
					<div class="col-4 fw-bold">【ユーザ名】</div>
					<div class="col-8" th:text="*{user.userName}"></div>
				</div>

				<div class="row mb-4">
					<div class="col-4 fw-bold">【ケース名】</div>
					<div class="col-8" th:text="*{caseName}"></div>
				</div>

				<div class="row mb-4">
					<div class="col-4 fw-bold">【クライアント名】</div>
					<div class="col-8 text-break" th:text="*{clientName}"></div>
				</div>

				<div class="row mb-4">
					<div class="col-4 fw-bold">ステータス</div>
					<div class="col-8 text-break" th:text="*{status.statusName}"></div>
				</div>
				<div class="row ">
					<div class="col-4 fw-bold">【内容】</div>
					<div class="col-8 text-break" th:text="*{detail}"></div>
				</div>

			</div>
		</div>


	<br>
	
	<!-- タスク一覧 -->
	<h3>タスク一覧</h3>
	<div th:if="${caseDetail.taskList.size()} != 0">
		<table class="table table-bordered w-75 mx-auto">
			<tr>
				<th>タスクID</th><th>タイトル</th><th>期限</th>
				<th>重要度</th><th>ステータス</th>
			</tr>
			<tr th:each="task : ${caseDetail.taskList}">
				<td th:text="${task.taskId}"></td>
				<td th:text="${task.title}"></td>
				<td th:text="${task.deadline}"></td>
				<td th:text="${task.priority.priorityName}"></td>
				<td th:text="${task.status.statusName}"></td>
			</tr>
		</table>
		<div>(タスクは全て削除されます)</div>
	</div>
	
	<br>
	<div class="pb-3">		
	<form th:action="@{/case-confirm-remove}" method="post"
			th:object="${caseDetail}">
		<input type="hidden" th:field="*{caseId}">
		<input type="submit" value="削除実行" class="btn btn-primary">
	</form>
	<br>
	<form th:action="@{/case-search-detail}" method="post"
			th:object="${caseDetail}">
		<input type="hidden" th:field="*{caseId}">
		<input type="submit" value="戻る" class="btn btn-primary">
	</form>
	</div>
	</main>
</body>

</html>